<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>JacketCS CSP - The Digital Domain: Architecture</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../unit-6/lab-1/07-digital-components.html" rel="next">
<link href="../../unit-6/lab-1/05-software-OS.html" rel="prev">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script type="text/javascript" src="../../llab/loader.js"></script>


<link rel="stylesheet" href="../../css/bjc.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">JacketCS CSP</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../posts" rel="" target="">
 <span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-labs" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Labs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-labs">    
        <li>
    <a class="dropdown-item" href="../../unit-1/index.html" rel="" target="">
 <span class="dropdown-text">Unit 1: Introduction to Programming</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../unit-2/index.html" rel="" target="">
 <span class="dropdown-text">Unit 2: Abstraction</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../unit-3/index.html" rel="" target="">
 <span class="dropdown-text">Unit 3: Data Structures</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../unit-4/index.html" rel="" target="">
 <span class="dropdown-text">Unit 4: How the Internet Works</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../unit-5/index.html" rel="" target="">
 <span class="dropdown-text">Unit 5: Algorithms and Simulations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../unit-6/index.html" rel="" target="">
 <span class="dropdown-text">Unit 6: How Computers Work</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://snap.berkeley.edu/snap/snap.html" rel="" target="">
 <span class="menu-text">Snap<em>!</em></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../unit-6/index.html">How Computers Work</a></li><li class="breadcrumb-item"><a href="../../unit-6/lab-1/01-abstraction.html">Lab 1</a></li><li class="breadcrumb-item"><a href="../../unit-6/lab-1/06-digital-architecture.html">The Digital Domain: Architecture</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../unit-6/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">How Computers Work</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Lab 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/01-abstraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Abstraction Inside the Computer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/02-software-applications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Software Domain: Applications</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/03-software-languages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Software Domain: Programming Languages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/04-software-libraries.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Software Domain: Libraries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/05-software-OS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Software Domain: Operating Systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/06-digital-architecture.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">The Digital Domain: Architecture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/07-digital-components.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Digital Domain: Components</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/08-digital-IC.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Digital Domain: Integrated Circuits</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/09-digital-logic-gates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Digital Domain: Logic Gates</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-1/10-analog.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Analog Domain: Transistors</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Lab 2</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-2/1-timeline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">A Brief History of Computers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/lab-2/2-moore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Moore’s Law</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../unit-6/project/project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unit 6 Project: History of Computers Game</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-stored-program-computer" id="toc-the-stored-program-computer" class="nav-link active" data-scroll-target="#the-stored-program-computer">The Stored Program Computer</a></li>
  <li><a href="#whats-an-architecture" id="toc-whats-an-architecture" class="nav-link" data-scroll-target="#whats-an-architecture">What’s an Architecture?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Digital Domain: Architecture</h1>
<p class="subtitle lead">Unit 6, Lab 1, Page 6</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="todo">
<p>
MF: lightly clean up to make the text more concise
</p>
</div>
<div class="learn">
<p><strong>On this page</strong>, we shift from software to hardware, starting with the <em>architecture,</em> which is essentially the hardware as it looks to the software.</p>
</div>
<p>
The software in a computer would be useless without the computer’s <em>hardware:</em> the actual circuitry inside the box. Just as there are layers of abstraction for software, hardware designers also think in layers of abstraction.
</p>
<p><img src="../../img/6-computers/hardware-abstraction-mini.png" title="simplified diagram of computer abstraction hierarchy showing three levels of decreasing abstraction: software domain, digital domain, and analog domain; there is a dividing line between the software and digital domains labeled 'program abstraction barrier' and a dividing line between the digital and analog domains labeled 'digital abstraction barrier;' there is a vertical double-headed arrow on the right indicating that the items listed first on the list have a 'high level of abstraction' and those lower on the list have a 'low level of abstraction'" alt="simplified diagram of computer abstraction hierarchy showing three levels of decreasing abstraction: software domain, digital domain, and analog domain; there is a dividing line between the software and digital domains labeled 'program abstraction barrier' and a dividing line between the digital and analog domains labeled 'digital abstraction barrier;' there is a vertical double-headed arrow on the right indicating that the items listed first on the list have a 'high level of abstraction' and those lower on the list have a 'low level of abstraction'" class="imageRight noshadow"></p>
<p>
Everyone talks about computers representing all data using only two values, 0 and 1. But that’s not really how electronic circuits work. Computer designers can work <em>as if</em> circuits were either off (0) or on (1) because of the <strong>digital abstraction</strong>, the most important abstraction in hardware. Above that level of abstraction, there are four more detailed levels, called the <strong>digital domain</strong>. Below the digital abstraction, designers work in the <strong>analog domain</strong>, in which a wire in a circuit can have any voltage value, not just two values.
</p>
<p>
On the next four pages, we’ll explore four levels of the digital domain.
</p>
<section id="the-stored-program-computer" class="level2 endnote">
<h2 class="anchored" data-anchor-id="the-stored-program-computer">The Stored Program Computer</h2>
<p>
As you’ll see in Lab 2, there have been machines to carry out computations for thousands of years. But the modern, <em>programmable</em> computer had its roots in the work of Charles Babbage in the early 1800s.
</p>
<p>
Babbage was mainly a mathematician, but he contributed to fields as varied as astronomy and economics. Babbage lived about 150 years ago from 1791-1871. Electricity as a source of energy was unknown. The steam engine came into widespread use around the time he was born. The most precise machinery of his time was clockwork—gears.
</p>
<section id="difference-engine" class="level4">
<h4 class="anchored" data-anchor-id="difference-engine"><strong>Difference Engine</strong></h4>
<p>
Babbage’s first computer was the Difference Engine. He used gears to design a complex machine that would compute and print tables of numbers (like the tables of log or trig functions you may have in the back of a math textbook). But these gears needed to be so precise that each one had to be handmade. The project became so expensive that the government stopped funding it, and Babbage never finished a full-scale version.
</p>
<div class="comment">
<p>Bad Mary. ;) We need a CSS solution for this instead of using tables. –MF, 12/4/17</p>
</div>
<table class="table">
<colgroup>
<col style="width: 65%">
<col style="width: 34%">
</colgroup>
<tbody>
<tr class="odd">
<td colspan="2"><img src="../../img/6-computers/babbage-difference-engine.jpg" title="The Difference Engine at the London Science Museum: the image shows a large mechanical device with many gears and a large crank on the side." class="img-fluid" alt="The Difference Engine at the London Science Museum: the image shows a large mechanical device with many gears and a large crank on the side.">&nbsp;| <img src="../../img/6-computers/closeup-difference-eng.jpg" title="A closeup showing the gears of the Difference Engine more clearly" class="img-fluid" alt="A closeup showing the gears of the Difference Engine more clearly">&nbsp;| The Difference Engine at the London Science Museum&nbsp; | A closeup showing the gears more clearly&nbsp;| Image by Wikimedia user geni. Copyright 2008. License: GFDL, CC BY-SA.| Image by Carsten Ullrich. Copyright 2005. License: CC-BY-SA-2.5. |</td>
</tr>
</tbody>
</table>
<p>
</p><p><a href="#hint-difference" data-bs-toggle="collapse" title="Learn more about the history of the Difference Engine">Learn more about the history of the Difference Engine.</a></p>
<div id="hint-difference" class="collapse">
<p>
In Babbage’s time, such numerical tables were computed by hand by human mathematicians, and they were typeset by hand for printing. Both the computation and the copying into type were error-prone, and accurate tables were needed for purposes ranging from engineering to navigation.
</p>
<p>
Babbage built a first, small Difference Engine in 1822. This first effort proved that a Difference Engine was possible, but it didn’t have the precision (number of digits in each number) to be practical. In 1823, the British government funded Babbage to build a larger version. Unfortunately, metalsmiths in his day could not produce very precise gears in large quantities; each one had to be handmade. So he spent ten times his approved budget by the time the government canceled the project in 1842.
</p>
<p>
In 1991, the London Science Museum completed a Difference Engine following Babbage’s original design using gears made by modern processes but at the level of precision that was available to Babbage. This proved that, in principle, Babbage could have completed a working machine, given enough time and money.
</p>
</div>
<p></p>
</section>
<section id="the-analytical-engine" class="level4">
<h4 class="anchored" data-anchor-id="the-analytical-engine"><strong>The Analytical Engine</strong></h4>
<p>
</p><p>The Difference Engine could be used to compute many different functions by manually setting the starting position of various gears. But it had <strong>only one algorithm</strong>: the one built into the hardware design. In 1833, Babbage began working on the Analytical Engine, which was based on the general idea of the Difference Engine but <strong>could carry out instructions</strong> in a primitive programming language prepared on punched cards.<br></p>
<div class="sidenote">
<p><small>Punched cards used to program the Analytical Engine</small><br> <small><small>Karoly Lorentey. Copyright 2004. License: CC-BY.</small></small></p>
</div>
<p><img src="../../img/6-computers/punched-cards-analytical-engine.jpg" title="punched cards used to program the Analytic Engine" alt="punched cards used to program the Analytic Engine" class="indent" height="300px"></p>
<p></p>
<p>
These days, we are surrounded by programmable computers, and having software seems obvious now. But it wasn’t obvious, and before Babbage, all algorithms were implemented directly in hardware.
</p>
<p>
So, 150 years ago, Babbage created plans for what is essentially a modern computer, although he didn’t have electronics available. His underlying idea for hardware was entirely mechanical, but it turned out not to be possible for him to build it with then-current technology. We didn’t get <em>usable</em> computers until there was an underlying technology small enough, inexpensive enough, and fast enough to support the software abstraction. You’ll learn about this technology, transistors, soon.
</p>
<p>
</p><p><a href="#hint-analytical" data-bs-toggle="collapse" title="Learn more about the Analytical Engine">Learn more about the Analytical Engine.</a></p>
<div id="hint-analytical" class="collapse">
<p>
The Analytical Engine, like modern computers, had an arithmetic processor (called the “mill”) and a separate memory (the “store”) that would hold 1,000 numbers, each with up to 40 digits. <!--(In modern terms, this is comparable to 20,000 bytes, since a byte can hold two digits, with four bits needed for each.)--> The mill did arithmetic in decimal (with digits 0-9 equally spaced around each gear); using just “ones and zeros” in computing came later.
</p>
<p>
The programming language used in the Analytical Engine included conditionals and looping, which is all you need to represent any algorithm. (It could loop because it could move forward or backward through the punched cards containing the program.)
</p>
<p>
Alas, Babbage could build only a small part of the Analytical Engine, which would have required even more metalworking than the Difference Engine. His notes about the design weren’t complete, and so nobody has ever built a working model, although there are simulations available on the Web (see the Take It Further problem below). Sadly, in the early days of electronic computers, Babbage’s work was not widely known, and people ended up reinventing many of his ideas.
</p>
</div>
<p></p>
<p>
</p><p><a href="#hint-ada" data-bs-toggle="collapse" title="Learn about Ada, Countess Lovelace's invention of symbolic computing">Learn about Ada, Countess Lovelace’s invention of symbolic computing.</a></p>
<div id="hint-ada" class="collapse">
<p>
Although his design was very versatile, Babbage was mainly interested in printing tables of numbers. It was his collaborator Augusta Ada King-Noel, Countess of Lovelace, who first recognized that the numbers in Babbage’s computer could be used not only as quantities but also as representing musical notes, text characters, and so on.
</p>
<p><img src="../../img/6-computers/ada-lovelace.jpg" title="Ada, Countess Lovelace" alt="Ada, Countess Lovelace" class="indent" height="300px"></p>
<div class="sidenote">
<p><small>Image by Alfred Edward Chalon, Science &amp; Society Picture Library, Public Domain, via Wikimedia.</small></p>
</div>
<p>
Much of what we know today about Babbage’s design comes from Ada Lovelace’s extensive notes on his design. Her notes included the first <em>published</em> program for the Analytical Engine, and so she is widely considered “the first programmer,” although it’s almost certain that Babbage himself wrote several example programs while designing the machine.
</p>
<p>
Whether or not she was truly the first programmer, historians agree that she did something more important: she invented the idea of <em>symbolic</em> computation (including text, pictures, music, etc.) as opposed to numeric computation. This insight paved the way for all the ways that computers are used today, from movies on demand to voice-interactive programs such as Siri and Alexa.
</p>
</div>
<p></p>
</section>
</section>
<div class="takeNote">
<p>The abstraction of <em>software</em> (a program stored in the computer’s memory) is what makes a computer usable for more than one purpose.</p>
</div>
<section id="whats-an-architecture" class="level2">
<h2 class="anchored" data-anchor-id="whats-an-architecture">What’s an Architecture?</h2>
<p>
The Analytical Engine (described above) was the first programmable computer architecture. The processor in the computer you are using today understands only one language, its own <em>machine language</em>—not Java, not C, not Snap<em>!</em>, not Python, nor anything else. Programs written in those other languages must first be translated into machine language.
</p>
<p>
The most important part of the architecture is the machine language, the set of ultra-low-level instructions that the hardware understands. This language is like a contract between the hardware and the software: The hardware promises to understand a set of instructions, and the software compiles programs from human-friendly language into those instructions.
</p>
<div class="vocabFullWidth">
<p>
<strong>Machine language</strong> is the lowest-level programming language; it is directly understood by the computer hardware.
</p>
<p>
<strong>Architecture</strong> is an abstraction, a specification of the machine language. It also tells how the processor connects to the memory. It doesn’t specify the circuitry; the same architecture can be built as circuitry in many different ways.
</p>
</div>
<p>
One important part of an architecture is the number of wires that connect the processor and memory. This is called the <em>width</em> of the architecture, measured in <em>bits</em> (number of wires). A wider computer can process more data in one instruction.
</p>
<div class="endnote">
<p><a href="#hint-machine-language" data-bs-toggle="collapse" title="What does machine language look like?">What does machine language look like?</a></p>
<div id="hint-machine-language" class="collapse">
<p>
</p><p>Consider the Snap<em>!</em> instruction <img src="../../img/6-computers/set-c-to-a+b.png" title="set (c) to (a + b)" alt="set (c) to (a + b)" class="inline nopad">. In a lower-level language such as C or Java, the same idea would be written as:<br></p>
<pre>c = a+b;</pre>
<p>That simple command might be translated into <em>six</em> machine language instructions (slightly simplified here):<br></p>
<pre>movq_c, %rcx
movq_b, %rdx
movq_a, %rsi
movl(%rsi), %edi
addl(%rdx), %edi
movl%edi, (%rcx)</pre>
<p>This notation, called <em>assembly language</em>, is a line-by-line equivalent to the actual numeric instruction codes but is slightly more readable.</p>
<p></p>
<p><a href="#hint-assembly" data-bs-toggle="collapse" title="What does that code mean?">What does that code mean?</a></p>
<div id="hint-assembly" class="collapse">
<p>
The first three instructions load the <em>addresses</em> of the three variables into registers inside the processor. The names with percent signs, such as <code>%rcx</code>, refer to specific processor registers. <code>Movq</code> is the name of a machine language instruction. (It abbreviates “move quote,” which says to move a constant value into a register. Note that <var>a</var> is a variable, but <em>the address of</em> <var>a</var> is a constant value — the variable doesn’t move around in the computer’s memory.)
</p>
<p>
The next instruction, <code>movl</code> (“move long”), says to move a word from one place to another. Putting a register name in parentheses, like <code>(%rsi)</code>, means to use the memory location whose address is in the register. In this case, since the third <code>movq</code> put the address of <var>a</var> into register <code>%rsi</code>, the first <code>movl</code> says to move the variable <var>a</var> from memory into a processor register. Then the <code>addl</code> instruction says to add the variable <var>b</var> into that same register. Finally, the value in register <code>%edi</code> is moved into the memory location containing variable <var>c</var>.
</p>
</div>
<p>
You wouldn’t want to have to program in this language! And you <em>don’t</em> have to; modern architectures are designed for compilers, not for human machine language programmers.
</p>
</div>
</div>
<div class="endnote">
<p>Learn about:</p>
<ul>
<li>
<p><a href="#hint-architecture" data-bs-toggle="collapse" title="PC/Mac architecture">PC/Mac architecture</a></p>
<div id="hint-architecture" class="collapse">
<div class="comment" style="color:grey">
<p>This has a lot of numbers in it which make it harder to read, but more importantly it’s so abstract and doesn’t really talk about anything familiar, which given the hint title “PC/Mac” I was expecting. Needs some work. –MF, 11/8/17</p>
</div>
<p>
Most computer processors (the part that carries out instructions) in desktop or laptop computers use an architecture called “x86” that was designed at Intel, a chip manufacturer. The first processor using that architecture was called the 8086, released in 1978. (The reason for the name x86 is that the first few improved versions were called 80286, 80486, and so on.) The original 8086 was a 16-bit architecture; since then 32-bit (since 1985) and 64-bit (since 2003) versions have been developed. Even with all the refinements of the architecture, the new x86 processors are almost always <em>backward compatible,</em> meaning that today’s versions will still run programs that were written for the original 8086.
</p>
<p>
Why did the x86 architecture come to rule the world? The short answer is that IBM used it in their original PC, and all the later PC manufacturers followed their lead because they could run IBM-compatible software unmodified. But why did IBM choose the x86? There were arguably better competing architectures available, such as the Motorola 68000 and IBM’s own 801. The PC designers argued about which to use, but in the end, what made the difference was IBM’s long history of working with Intel.
</p>
<p>
The Apple Macintosh originally used the Motorola 68000 architecture, and in 1994 Apple designed its own PowerPC architecture in a joint project with IBM and Motorola, but in 2006 they, too, switched to the x86, because Intel keeps producing newer, faster versions of the x86 more often than other companies could keep up.
</p>
</div>
</li>
<li>
<p><a href="#hint-architecture-phone" data-bs-toggle="collapse" title="smartphone architecture">smartphone architecture</a></p>
<div id="hint-architecture-phone" class="collapse">
<p>
Everything about smartphone architecture is determined by the tiny size of the space inside the case. The height and width of the phone are constrained by the size of people’s front pockets. <em>(Don’t keep your phone in your back pants pocket. That’s really bad both for the phone and for your back.)</em> The front-to-back depth of a phone could be much bigger than it is, but for some reason phone manufacturers compete on the thinness of their phones, which gives designers even less room inside.
</p>
<p>
As a result, many components that would be separate from the processor chip in a computer are instead part of the same chip in a phone. These components may include some or all of a cellular modem, a WiFi modem, a graphics processor (another processor that specializes in parallel arithmetic on lists of numbers), memory, a GPS receiver to find your phone’s physical location, circuitry to manage the power depletion and recharging of the battery, and more. These days, the chip is likely to include two, four, or even eight copies of the actual CPU, to make multicore systems. This collection of components is called a <em>system on a chip,</em> or SoC.
</p>
<p>
Intel made an x86-based (that is, the same architecture used in PCs) low-power SoC called the Atom, which was used in a few Motorola phones and some others made by companies you’ve never heard of. It was made to support Android, Linux, and Windows phones.
</p>
<p>
But the vast majority of phones use the ARM architecture, which (unlike the x86) was designed from the beginning to be a low-power architecture. The acronym stands for Advanced RISC Machine. It’s available in 32-bit and 64-bit configurations.
</p>
<div class="endnote">
<p><a href="#hint-risc" data-bs-toggle="collapse" title="What's a RISC?">What’s a RISC?</a></p>
<div id="hint-risc" class="collapse">
<p>
The name stands for Reduced Instruction Set Computer, as opposed to the CISC (Complex Instruction Set Computer) architectures, including the x86. The <em>instruction set</em> of an architecture is, as you’d guess from the name, the set of instructions that the processor understands. A RISC has fewer instructions than a CISC, but it’s simpler in other ways also. For example, a CISC typically has more <em>addressing modes</em> in its instructions. In the x86 architecture, the <code>add</code> instruction can add two processor registers, or a register and a value from the computer’s memory, or a constant value built into the instruction itself. A RISC architecture’s <code>add</code> instruction just knows how to add two registers (perhaps putting the result into a third register), and there are separate <code>load</code> and <code>store</code> instructions that copy values from memory to register or the other way around. Also, in a RISC architecture, all instructions are the same length (say, 32 bits) whereas in a CISC architecture, instruction lengths may vary. These differences matter because a RISC can be loading the next instruction before it’s finished with the previous instruction, and a RISC never has more than one memory data reference per instruction.
</p>
<p>
So why don’t they use a RISC architecture in PCs? At one time Apple used a RISC processor called the PowerPC in its Macintosh computers, but the vast majority of computers sold are PCs, not Macs, and as a result Intel spends vast sums of money on building faster and faster circuits implementing the x86 architecture. The moral is about the interaction between different levels of abstraction: A better architecture can be overcome by a better circuit design or better technology to cram components into an integrated circuit.
</p>
</div>
</div>
<p>
The company that designed the ARM, called ARM Holdings, doesn’t actually build processors. They license either the architecture design or an actual circuit design to other companies that integrate ARM processors into SoCs. Major companies that build ARM-based processor chips include Apple, Broadcom, Qualcomm, and Samsung. Smartphone manufacturers buy chips from one of these companies.
</p>
</div>
</li>
<li>
<p><a href="#hint-architecture-iot" data-bs-toggle="collapse" title="embedded architecture and the Internet of Things">embedded architecture and the “Internet of Things”</a></p>
<div id="hint-architecture-iot" class="collapse">
<p>
You can buy thermostats with computers in them, refrigerators with computers in them, fuzzy animal toys with computers in them—more and more things, as time goes on. Modern automobiles have <em>several</em> computers in them, largely for safety reasons; you wouldn’t want the brakes to fail because the DVD player has a problem. The goal, as described by researchers in computing, is “smart dust,” meaning that lots of computers could be floating around a building unnoticed. What good is an unnoticed computer? This is a classic dual use technology. The beneficial use everyone talks about is emergency response to disasters; it would be a great help to the fire department to know, from the outside, which rooms of a building have people in them. But another use for this technology would be spying.
</p>
<p class="indent">
</p><p><img src="../../img/6-computers/freescale_scmimx6d-sm.jpg" title="Freescale SCM-i.MX6D chip, smaller than a dime" alt="Freescale SCM-i.MX6D chip, smaller than a dime"><br> <small><small>NXP Freescale SCM-i.MX6D chip</small></small></p>
<p></p>
<p>
For embedded computing, the main design criteria are small size and low power consumption. The chip in the picture above is based on the ARM architecture, like most cell phones. That’s actually a <em>big</em> embedded-systems chip; the Kinetis KL02 MCU (micro controller unit) fits in a 2 millimeter square—less than 1/10 inch. That’s still too big to float in the air like dust, but imagine it in a sticky container and thrown onto the wall.
</p>
<p>
Someday, the spying will be even more effective (along with, we hope, treatment for diseases of the brain): <a href="https://www.engadget.com/2017/05/17/arm-targets-your-brain-with-new-implantable-chips/" target="_blank" title="ARM targets your brain with new implantable chips">ARM targets your brain with new implantable chips</a> (Engadget, 5/17/2017).
</p>
<p>
Intel made a button-sized x86-compatible chip in 2015, but announced in 2017 that it would be discontinued, leaving only ARM and PowerPC-based processors competing in this market.
</p>
</div>
</li>
<li>
<p><a href="#hint-architecture-hobby" data-bs-toggle="collapse" title="hobbyist computer architecture">hobbyist computer architecture</a></p>
<div id="hint-architecture-hobby" class="collapse">
<p>
In one sense, <em>any</em> architecture can be a hobbyist architecture. Even back in the days of million-dollar computers, there were software hobbyists who found ways to get into college computer labs, often by making themselves useful there. Today, there are much more powerful computers that are cheap enough that hobbyists are willing to take them apart. But there are a few computer architectures <em>specifically</em> intended for use by hobbyists.
</p>
<div class="comment">
<p>We DO NOT yet have permissions for this image. –MF, 12/4/17</p>
</div>
<p><img src="../../img/6-computers/arduino.jpg" title="Arduino board" alt="Arduino board" class="imageRight"></p>
<p>
By far the most popular computer specifically for hobbyists is the Arduino. It’s a circuit board, not just a processor. Around the edges of the board are connectors. On the short edge on the left in the picture are the power input, which can connect to a power supply plugged into the wall or to a battery pack for a mobile device such as a robot, and a USB connector used mainly to download programs from a desktop or laptop computer. On the long edges are connectors for single wires connected to remote sensors (for light, heat, being near a wall, touching another object, etc.) or actuators (stepping motors, lights, buzzers, etc.).
</p>
<p>
One important aspect of the Arduino design is that it’s <em>free</em> (“free as in freedom”). Anyone can make and even sell copies of the Arduino. This is good because it keeps the price down (the basic Arduino Uno board costs $22) and encourages innovation, but it also means that there can be incompatible Arduino-like boards. (The name “Arduino” is a trademark that can be used only by license from Arduino AG.)
</p>
<p>
The processor in most Arduino models is an eight-bit RISC system with memory included in the chip, called the AVR, from a company called Atmel. It was designed by two (then) students in Norway, named Alf-Egil Bogen and Vegard Wollan. Although officially “AVR” doesn’t stand for anything, it is widely believed to come from “Alf and Vegard’s RISC.” There are various versions of the AVR processor, with different speeds, memory capacities, and of course prices; there are various Arduino models using the different processors.
</p>
<p>
Unlike most (“von Neumann architecture”) computers, the AVR (“Harvard architecture”) separates program memory from data memory. (It actually has <em>three</em> kinds of memory, one for the running program, one for short-term data, and one for long-term data.) Babbage’s Analytical Engine was also designed with a program memory separate from its data memory.
</p>
<div class="endnote">
<p><a href="#hint-Harvard" data-bs-toggle="collapse" title="Why would you want more than one kind of memory?">Why would you want more than one kind of memory?</a></p>
<div id="hint-Harvard" class="collapse">
<p>
</p><p>There are actually two different design issues at work in this architecture. One is all the way down in the analog domain, having to do with the kind of physical circuitry used. There are <em>many</em> memory technologies, varying in cost, speed, and <em>volatility:</em> volatile memory loses the information stored in it when the device is powered off, while non-volatile memory retains the information. Here’s how memory is used in the AVR chips:</p>
<ul>
<li>
<p><strong>EEPROM</strong> (512 Bytes–4kBytes) is non-volatile, and is used for very long term data, like a file in a computer’s disk, except that there is only a tiny amount available. Programs on the Arduino have to ask explicitly to use this memory, with an EEPROM library.</p>
<ul>
<li>
The name stands for Electrically Erasable Programmable Read-Only Memory, which sounds like a contradiction in terms. In the early days of transistor-based computers, there were two kinds of memory, volatile (Random Access Memory, or RAM) and nonvolatile (Read-Only Memory, or ROM). The values stored in an early ROM had to be built in by the manufacturer of the memory chip, so it was expensive to have a new one made. Then came Programmable Read-Only Memory (PROM), which was read-only once installed in a computer, but could be programmed, once only, using a machine that was only somewhat expensive. Then came EPROM, Erasable PROM, which could be erased in its entirety by shining a bright ultraviolet light on it, and then reprogrammed like a PROM. Finally there was Electrically Erasable PROM, which could be erased while installed in a computer, so essentially equivalent to RAM, except that the erasing is much slower than rewriting a word of RAM, so you use it only for values that aren’t going to change often.
</li>
</ul>
</li>
<li>
<p><strong>SRAM</strong> (1k–4kBytes): This memory can lose its value when the machine is turned off; in other words, it’s volatile. It is used for temporary data, like the script variables in a Snap<em>!</em> script.</p>
<ul>
<li>
The name stands for Static Random Access Memory. The “Random Access” part differentiates it from the magnetic tape storage used on very old computers, in which it took a long time to get from one end of the tape to another, so it was only practical to write or read data in sequence. Today all computer memory is random access, and the name “RAM” really means “writable,” as opposed to read-only. The “Static” part of the name means that, even though the memory requires power to retain its value, it <em>doesn’t</em> require periodic refreshing as regular (“Dynamic”) computer main memory does. (“Refreshing” means that every so often, the computer has to read the value of each word of memory and rewrite the same value, or else it fades away. This is a good example of computer circuitry whose job is to maintain the <em>digital abstraction,</em> in which a value is zero or one, and there’s no such thing as “fading” or “in-between values.”) Static RAM is faster but more expensive than dynamic RAM; that’s why DRAM is used for the very large (several gigabytes) memories of desktop or laptop computers.
</li>
</ul>
</li>
<li>
<p><strong>Flash</strong> memory (16k–256kBytes): This is the main memory used for programs and data. Flash memory is probably familiar to you because it’s used for the USB sticks that function as portable external file storage. It’s technically a kind of EEPROM, but with a different physical implementation that makes it much cheaper (so there can be more of it in the Arduino), but more complicated to use, requiring special control circuitry to maintain the digital abstraction.</p>
<ul>
<li>
“More complicated” means, for example, that changing a bit value from 1 to 0 is easy, but changing it from 0 to 1 is a much slower process that involves erasing a large block of memory to <em>all</em> 1 bits and then rewriting the values of the bits you didn’t want to change.
</li>
</ul>
</li>
</ul>
<p></p>
<p>
So, that’s why there are physically different kinds of memory in the AVR chips, but none of that completely explains the Harvard architecture, in which memory is divided into <em>program</em> and <em>data,</em> regardless of how long the data must survive. The main reason to have two different memory interface circuits is that it allows the processor to read a program instruction and a data value <em>at the same time.</em> This can in principle make the processor twice as fast, although that much speed gain isn’t found in practice.
</p>
<p>
To understand the benefit of simultaneous instruction and data reading, you have to understand that processors are often designed using an idea called <em>pipelining.</em> The standard metaphor is about doing your laundry, when you have more than one load. You wash the first load, while your dryer does nothing; then you <em>wash the second load while drying the first load, </em>and so on until the last load. Similarly, the processor in a computer includes circuitry to decode an instruction, and circuitry to do arithmetic. If the processor does one thing at a time, then at any moment either the instruction decoding circuitry or the arithmetic circuitry is doing nothing. But if you can read the next instruction at the same time as carrying out the previous one, all of the processor is kept busy.
</p>
<p>
This was a long explanation, but it’s still vastly oversimplified. For one thing, it’s possible to use pipelining in a von Neumann architecture also. And for another, a <em>pure</em> Harvard architecture wouldn’t allow a computer to load programs for itself to execute. So various compromises are used in practice.
</p>
</div>
</div>
<p>
Atmel has since introduced a line of ARM-compatible 32-bit processors, and Arduino has boards using that processor but compatible with the layout of the connectors on the edges.
</p>
<p>
One thing that has contributed to the popularity of the Arduino with hobbyists is the availability of <em>shields,</em> which are auxiliary circuit boards that plug into the side edge connectors and have the same connectors on their top side. Shields add features to the system. Examples are motor control shields, Bluetooth shields for communicating with cell phones, RFID shields to read those product tags you find inside the packaging of many products, and so on. Both the Arduino company and others sell shields.
</p>
<div class="sidenote">
<p><small>Stack of Arduino shields</small><br> <small><small>Image by Wikimedia user Marlon J. Manrique, CC-BY-SA 2.0.</small></small></p>
</div>
<p><img src="../../img/6-computers/arduino-shields.jpg" title="stack of Arduino shields" alt="stack of Arduino shields" class="indent" width="250px"></p>
<p>
A completely different hobbyist architecture is the <em>Raspberry Pi.</em> It was designed to be used like a desktop or laptop computer, but with more access to its electronics. It uses an ARM-compatible processor, like most cell phones, but instead of running phone operating system software such as Android, it runs “real” computer operating systems. It ships with Linux, but people have run Windows on it.
</p>
<p>
The main thing that makes it exciting is that it’s inexpensive: different models range in price from $5 to $35. That price includes just the circuit board, as in the picture, without a keyboard, display, mouse, power adapter, or a case. The main expense in kit computers is the display, so the Pi is designed to plug into your TV. You can buy kits that include a minimal case, a keyboard, and other important add-ons for around $20. You can also buy fancy cases to make it look like any other computer, with a display, for hundreds of dollars.
</p>
<p>
Because the Pi is intended for educational use, it comes with software, some of which is free for anyone, but some of which generally costs money for non-Pi computers. One important example is Mathematica, which costs over $200 for students (their cheapest price), but is included free on the Pi.
</p>
<p>
Like the Arduino, the Pi supports add-on circuit boards with things like sensors and wireless communication modules.
</p>
<div class="sidenote">
<p><small>Raspberry Pi board</small><br> <small><small>Image by Evan Amos, via Wikimedia, public domain</small></small></p>
</div>
<p><img src="../../img/6-computers/raspberry-pi.jpg" title="Raspberry Pi board" alt="Raspberry Pi board" class="indent" width="250px"></p>
</div>
</li>
</ul>
</div>
<div class="endnote">
<p><a href="#hint-architecture-general" data-bs-toggle="collapse" title="Learn more about computer architecture in general">Learn more about computer architecture in general.</a></p>
<div id="hint-architecture-general" class="collapse">
<div class="todo" style="color:grey">
<p>This needs some heavy edits. For example, perhaps the whole third paragraph, “One recent 64-bit x86…” could be cut. –MF, 11/8/17</p>
</div>
<section id="the-memory-hierarchy" class="level4">
<h4 class="anchored" data-anchor-id="the-memory-hierarchy">The memory hierarchy</h4>
<p>
For a given cost of circuit hardware, <strong>the bigger the memory, the slower it works.</strong> For this reason, computers don’t just have one big chunk of memory. There will be a small number of <em>registers</em> inside the processor itself, usually between 8 and 16 of them. The “size” (number of bits) of a data register is equal to the width of the architecture.
</p>
<p>
The computer’s main memory, these days, is measured in GB (gigabytes, or billions of bytes). A memory of that size can’t be fast enough to keep up with a modern processor. Luckily, computer programs generally have <em>locality of reference,</em> which means that if the program has just made use of a particular memory location, it’s probably going to use a nearby location next. So a complete program may be very big, but over the course of a second or so only a small part of it will be needed. Therefore, modern computers are designed with one or more <em>cache</em> memories—much smaller and therefore faster—between the processor and the main memory. The processor makes sure that the most recently used memory is copied into the cache.
</p>
<p>
One recent 64-bit x86 processor has a first level (L1) cache of 64KB (thousands of bytes) inside the processor chip, a larger but slower L2 cache of 256 KB, also inside the processor, and an L3 cache of up to 2 MB (megabytes, millions of bytes) outside the processor. Each level of cache has a copy of the most recently used parts of the next level outward: the L1 cache copies part of the L2 cache, which copies part of the L3 cache, which copies part of the main memory. Data in the L1 cache can be accessed by the processor about as fast as its internal registers, and each level outward is a little slower. Hardware in the processor handles all this complexity, so that programmers can write programs as if the processor were directly connected to the main memory.
</p>
</section>
<section id="second-sourcing" class="level4">
<h4 class="anchored" data-anchor-id="second-sourcing">Second sourcing</h4>
<p>
Intel licenses other chip manufacturers to build processors that use the same architecture as Intel’s processors. Why do they do that? Wouldn’t they make more money if people had to buy from Intel? The reason is that computer manufacturers, such as Dell, Apple, and Lenovo, won’t build their systems around an architecture that is only available from one company. They’re not worried that Intel will go out of business; the worry is that there may be a larger-than-expected demand for a particular processor, and Intel may not be able to fill orders on time. But if that processor is also available from other companies such as AMD and Cyrix, then a delay at Intel won’t turn into a delay at Dell. Those other chip manufacturers may not use the same circuitry as the Intel version, as long as they behave the same at the architecture level.
</p>
</section>
</div>
</div>
<div class="takeItFurther">
<ol type="A">
<li>
<p>Learning enough about the Analytical Engine to be able to write even a <em>simple</em> program for it is quite a large undertaking. Don’t try it until after the AP exam, but if you are interested, there are extensive online resources available here:</p>
<ul>
<li>
<a href="http://www.fourmilab.ch/babbage/contents.html" title="The Analytical Engine Table of Contents" target="_blank">The Analytical Engine Table of Contents</a>
</li>
<li>
<a href="http://www.fourmilab.ch/babbage/emulator.html" title="Web Analytical Engine Emulator" target="_blank">Web Analytical Engine Emulator</a>
</li>
</ul>
</li>
</ol>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../unit-6/lab-1/05-software-OS.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">The Software Domain: Operating Systems</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../unit-6/lab-1/07-digital-components.html" class="pagination-link">
        <span class="nav-page-text">The Digital Domain: Components</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">The curriculum, text, and styling on this website is adapted from <a href="https://bjc.edc.org/bjc-r/">The Beauty and Joy of Computing</a> by University of California, Berkeley and Education Development Center, Inc.&nbsp;which is licensed under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>